<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistem Terpadu PAI SD</title>

<style>
body{
  margin:0;
  padding:0;
  background:#eef5ff;
  font-family:Arial, sans-serif;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  min-height:100vh;
  padding:10px;
}
.container{
  width:100%;
  max-width:520px;
  background:white;
  border-radius:12px;
  box-shadow:0 0 12px rgba(0,0,0,0.15);
  padding-bottom:20px;
}
header{
  background:#2E8B57;
  color:white;
  text-align:center;
  padding:15px;
  font-size:1.3rem;
  font-weight:bold;
}
.screen{display:none;padding:15px;}
.screen.active{display:block;}
input,select{
  width:100%;
  padding:10px;
  margin:6px 0 12px;
  border-radius:6px;
  border:1px solid #aaa;
  font-size:1rem;
}
button{
  width:100%;
  padding:12px;
  margin:6px 0;
  border:none;
  border-radius:6px;
  font-weight:bold;
  color:white;
  background:#2E8B57;
}
button.blue{background:#3498db;}
button.red{background:#e74c3c;}
button.yellow{background:#f1c40f;color:black;}
.option{
  padding:10px;
  border:1px solid #aaa;
  border-radius:6px;
  margin-top:8px;
  cursor:pointer;
}
.option.selected{
  background:#d4ffe1;
  border:2px solid #2E8B57;
}
.musicBox{
  background:#fafafa;
  border:1px solid #ccc;
  padding:10px;
  border-radius:6px;
  margin-top:10px;
  text-align:center;
  cursor:pointer;
}
.trackName{
  font-size:0.9rem;
  margin-top:6px;
  color:#333;
}
.scrollBox{
  max-height:350px;
  overflow-y:auto;
  border:1px solid #ccc;
  padding:10px;
  border-radius:6px;
}
</style>
</head>
<body>
<div class="container">

<!-- ===== LOGO DI AWAL ===== -->
<div style="text-align:center;padding:12px 0;">
  <img src="./logo.jpg" alt="Logo" style="width:110px;height:auto;border-radius:8px;">
</div>

<header>SISTEM TERPADU PAI SD</header>
<!-- ===== SCREEN LOGIN SISWA ===== -->
<div id="screenLogin" class="screen active">

  <input type="text" id="namaSiswa" placeholder="Nama lengkap..." autocomplete="off">

  <select id="kelasSiswa">
    <option value="">Pilih Kelas</option>
    <option value="3A">3A</option>
    <option value="3B">3B</option>
    <option value="4A">4A</option>
    <option value="4B">4B</option>
  </select>

  <button onclick="mulaiKuis()">Mulai Kuis</button>
  <button class="blue" onclick="loginGuru()">Login Guru</button>
  <button class="yellow" onclick="cekKhodam()">Cek Khodam</button>

  <!-- STATUS KUIS -->
  <div id="statusKuis" style="margin-top:8px;font-size:0.9rem;"></div>

  <!-- ===== MUSIK LATAR MODE 1x KLIK ===== -->
  <div class="musicBox" onclick="toggleMusic()">
    <b>ðŸŽ§ Musik Latar</b>
    <div id="musikStatus" class="trackName">Klik untuk Putar</div>
  </div>

</div>
<!-- ===== SCREEN KUIS ===== -->
<div id="screenKuis" class="screen">
  <div id="judulKuis" style="font-weight:bold;margin-bottom:10px;"></div>
  <div id="soalContainer"></div>
  <button class="blue" onclick="kirimJawaban()">Kirim Jawaban</button>
</div>

<!-- ===== SCREEN HASIL ===== -->
<div id="screenHasil" class="screen">
  <h3 style="text-align:center;">Hasil Kuis</h3>
  <div id="nilaiAkhir" style="font-size:1.3rem;margin:10px 0;text-align:center;"></div>
  <button onclick="kembaliLogin()">Kembali</button>
</div>

<script>
// =======================
// DATA SOAL SEMENTARA
// =======================
let soalData = {
  "3A": [],
  "3B": [],
  "4A": [],
  "4B": []
};

// =======================
// VARIABLE GLOBAL KUIS
// =======================
let namaSaatIni = "";
let kelasSaatIni = "";
let soalTerpilih = [];
let jawabanUser = {};
let jawabanBenar = 0;

// =======================
// FUNGSI SHUFFLE
// =======================
function shuffleArray(arr){
  for(let i = arr.length - 1; i > 0; i--){
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

// =======================
// MULAI KUIS
// =======================
function mulaiKuis(){
  let nama = document.getElementById("namaSiswa").value.trim();
  let kelas = document.getElementById("kelasSiswa").value;

  if(!nama || !kelas){
    alert("Isi nama dan kelas!");
    return;
  }

  // cek sudah pernah kuis (anti ulang)
  let key = kelas+"_"+nama;
  if(localStorage.getItem("kuis_"+key)){
    document.getElementById("statusKuis").innerHTML =
      "<span style='color:red'>Kamu sudah mengerjakan kuis!</span>";
    return;
  }

  if(soalData[kelas].length < 1){
    alert("Soal untuk kelas "+kelas+" belum diisi!");
    return;
  }

  namaSaatIni = nama;
  kelasSaatIni = kelas;
  jawabanUser = {};

  // pilih 10 soal random
  soalTerpilih = shuffleArray([...soalData[kelas]]).slice(0, 10);

  document.getElementById("judulKuis").innerText = "Kuis Kelas " + kelas;
  tampilSoal();

  tampilScreen("screenKuis");
}

// =======================
// TAMPILKAN SOAL
// =======================
function tampilSoal(){
  let box = document.getElementById("soalContainer");
  box.innerHTML = "";
  
  soalTerpilih.forEach((item, idx)=>{
    let pilihan = shuffleArray([...item.pilihan]);
    let html = `<div style='margin-bottom:12px;'>
      <b>${idx+1}. ${item.soal}</b>`;

    pilihan.forEach(p=>{
      html += `<div class='option' onclick='pilihOption(this, ${idx}, "${p}")'>${p}</div>`;
    });

    html += `</div>`;
    box.innerHTML += html;
  });
}

// =======================
// PILIH JAWABAN
// =======================
function pilihOption(el, no, val){
  jawabanUser[no] = val;
  let parent = el.parentElement;
  [...parent.querySelectorAll(".option")].forEach(o=>o.classList.remove("selected"));
  el.classList.add("selected");
}

// =======================
// KIRIM JAWABAN â†’ NILAI
// (akan di-override di PART 5)
// =======================
function kirimJawaban(){
  if(Object.keys(jawabanUser).length < soalTerpilih.length){
    alert("Masih ada soal yang belum dijawab!");
    return;
  }

  jawabanBenar = 0;
  soalTerpilih.forEach((s,i)=>{
    if(jawabanUser[i] === s.jawaban) jawabanBenar++;
  });

  document.getElementById("nilaiAkhir").innerText =
    "Benar: "+jawabanBenar+" dari "+soalTerpilih.length;

  tampilScreen("screenHasil");
}

function kembaliLogin(){
  tampilScreen("screenLogin");
}
</script>
<!-- ===== SCREEN LOGIN GURU ===== -->
<div id="screenGuruLogin" class="screen">
  <input type="password" id="passGuru" placeholder="Password Guru...">
  <button onclick="submitGuru()">Masuk</button>
  <button class="blue" onclick="tampilScreen('screenLogin')">Kembali</button>
  <div id="errorGuru" style="color:red;margin-top:6px;"></div>
</div>

<!-- ===== SCREEN MENU GURU ===== -->
<div id="screenGuruMenu" class="screen">
  <h3 style="text-align:center;">MENU GURU</h3>
  <button onclick="bukaInputNama()">Input Nama Siswa</button>
  <button onclick="bukaAbsensi()">Absensi Harian</button>
  <button onclick="bukaRekapAbsensi()">Rekap Absensi</button>
  <button onclick="bukaRekapNilai()">Rekap Nilai</button>
  <button class="red" onclick="resetSemua()">Reset Data</button>
  <button onclick="tampilScreen('screenLogin')">Logout</button>
</div>

<!-- ===== SCREEN INPUT NAMA SISWA ===== -->
<div id="screenInputNama" class="screen">
  <input type="text" id="namaBaru" placeholder="Nama siswa...">
  <select id="kelasBaru">
    <option value="">Pilih Kelas</option>
    <option value="3A">3A</option>
    <option value="3B">3B</option>
    <option value="4A">4A</option>
    <option value="4B">4B</option>
  </select>
  <button onclick="simpanNamaBaru()">Simpan</button>
  <button class="blue" onclick="tampilScreen('screenGuruMenu')">Kembali</button>

  <div id="listNama" class="scrollBox" style="margin-top:10px;font-size:0.9rem;"></div>
</div>

<!-- ===== SCREEN ABSENSI ===== -->
<div id="screenAbsensi" class="screen">
  <h3 style="text-align:center;">Absensi Hari <span id="hariKe"></span></h3>
  <div id="absenList" class="scrollBox"></div>
  <button onclick="hariBerikutnya()">Hari Berikutnya</button>
  <button class="blue" onclick="tampilScreen('screenGuruMenu')">Kembali</button>
</div>

<!-- ===== SCREEN REKAP ABSENSI ===== -->
<div id="screenRekapAbsensi" class="screen">
  <h3 style="text-align:center;">Rekap Absensi</h3>
  <div id="rekapAbsensiList" class="scrollBox"></div>
  <button class="blue" onclick="tampilScreen('screenGuruMenu')">Kembali</button>
</div>

<!-- ===== SCREEN REKAP NILAI ===== -->
<div id="screenRekapNilai" class="screen">
  <h3 style="text-align:center;">Rekap Nilai</h3>
  <div id="rekapNilaiList" class="scrollBox"></div>
  <button class="blue" onclick="tampilScreen('screenGuruMenu')">Kembali</button>
</div>

<script>
// ==================================
// DATA LOCAL STORAGE
// ==================================
let dataSiswa = JSON.parse(localStorage.getItem("dataSiswa") || '{"3A":[],"3B":[],"4A":[],"4B":[]}');
let dataNilai = JSON.parse(localStorage.getItem("dataNilai") || "{}");
let dataAbsen = JSON.parse(localStorage.getItem("dataAbsen") || "{}");
let hari = parseInt(localStorage.getItem("hari") || "1");

document.getElementById("hariKe").innerText = hari;

// ==================================
// LOGIN GURU
// ==================================
function loginGuru(){
  tampilScreen('screenGuruLogin');
}

function submitGuru(){
  let p = document.getElementById("passGuru").value.trim();
  if(p !== "040698"){
    document.getElementById("errorGuru").innerText = "Password salah!";
    return;
  }
  document.getElementById("errorGuru").innerText = "";
  tampilScreen('screenGuruMenu');
}

// ==================================
// INPUT NAMA SISWA
// ==================================
function bukaInputNama(){
  tampilListNama();
  tampilScreen('screenInputNama');
}

function simpanNamaBaru(){
  let nama = document.getElementById("namaBaru").value.trim();
  let kls  = document.getElementById("kelasBaru").value;
  if(!nama||!kls){ alert("Lengkapi data!"); return; }

  if(!dataSiswa[kls].includes(nama)) dataSiswa[kls].push(nama);
  if(!dataAbsen[kls]) dataAbsen[kls]={};
  if(!dataAbsen[kls][nama]) dataAbsen[kls][nama]=new Array(30).fill("");

  simpanData();
  tampilListNama();
  document.getElementById("namaBaru").value="";
  document.getElementById("kelasBaru").value="";
}

function tampilListNama(){
  let box = document.getElementById("listNama");
  box.innerHTML="";
  Object.keys(dataSiswa).forEach(k=>{
    box.innerHTML+=`<b>${k}</b><br>`;
    dataSiswa[k].forEach(n=>box.innerHTML+=`â€¢ ${n}<br>`);
    box.innerHTML+="<br>";
  });
}

// ==================================
// ABSENSI
// ==================================
function bukaAbsensi(){
  tampilAbsensi();
  tampilScreen('screenAbsensi');
}

function tampilAbsensi(){
  let box = document.getElementById("absenList");
  box.innerHTML="";
  Object.keys(dataSiswa).forEach(k=>{
    box.innerHTML+=`<h4>${k}</h4>`;
    dataSiswa[k].forEach(n=>{
      let st = dataAbsen[k][n][hari-1] || "-";
      box.innerHTML += `
      <div style="display:flex;justify-content:space-between;margin-bottom:6px;">
        <span>${n}</span>
        <div>
          <button onclick="setAbsen('${k}','${n}','H')" style="padding:3px;background:#2ecc71;">H</button>
          <button onclick="setAbsen('${k}','${n}','I')" style="padding:3px;background:#f1c40f;">I</button>
          <button onclick="setAbsen('${k}','${n}','S')" style="padding:3px;background:#3498db;">S</button>
          <button onclick="setAbsen('${k}','${n}','A')" style="padding:3px;background:#e74c3c;">A</button>
        </div>
        <span>${st}</span>
      </div>`;
    });
  });
}

function setAbsen(k,n,s){
  dataAbsen[k][n][hari-1]=s;
  simpanData();
  bukaAbsensi();
}

function hariBerikutnya(){
  if(hari<30){
    hari++;
    simpanData();
    bukaAbsensi();
  }
}

// ==================================
// REKAP ABSENSI
// ==================================
function bukaRekapAbsensi(){
  let box = document.getElementById("rekapAbsensiList");
  box.innerHTML="";
  Object.keys(dataSiswa).forEach(k=>{
    box.innerHTML+=`<h4>${k}</h4><table border='1' cellpadding='3'><tr><th>Nama</th>`;
    for(let i=1;i<=30;i++) box.innerHTML+=`<th>${i}</th>`;
    box.innerHTML+=`</tr>`;
    dataSiswa[k].forEach(n=>{
      box.innerHTML+=`<tr><td>${n}</td>`;
      dataAbsen[k][n].forEach(v=>box.innerHTML+=`<td>${v||"-"}</td>`);
      box.innerHTML+=`</tr>`;
    });
    box.innerHTML+=`</table><br>`;
  });
  tampilScreen('screenRekapAbsensi');
}

// ==================================
// SIMPAN DATA
// ==================================
function simpanData(){
  localStorage.setItem("dataSiswa", JSON.stringify(dataSiswa));
  localStorage.setItem("dataNilai", JSON.stringify(dataNilai));
  localStorage.setItem("dataAbsen", JSON.stringify(dataAbsen));
  localStorage.setItem("hari", hari);
}

// ==================================
// GANTI SCREEN
// ==================================
function tampilScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
</script>
<script>
// ================================
// SIMPAN NILAI + ABSENSI OTOMATIS
// ================================
if(!dataNilai || typeof dataNilai !== "object") dataNilai = {};
if(!dataAbsen || typeof dataAbsen !== "object") dataAbsen = {};

function simpanHadir(nama, kelas){
  if(!dataAbsen[kelas]) dataAbsen[kelas] = {};
  if(!dataAbsen[kelas][nama]) dataAbsen[kelas][nama] = new Array(30).fill("");
  dataAbsen[kelas][nama][hari-1] = "H";
  simpanData();
}

function simpanNilai(nama, kelas, skor){
  if(!dataNilai[kelas]) dataNilai[kelas] = [];
  dataNilai[kelas].push({
    nama: nama,
    skor: skor,
    waktu: new Date().toLocaleString("id-ID")
  });
  simpanData();
}

// ========================================
// OVERRIDE kirimJawaban() dari PART 3
// ========================================
const _oldKirimJawaban = kirimJawaban;
kirimJawaban = function(){
  if(Object.keys(jawabanUser).length < soalTerpilih.length){
    alert("Masih ada soal yang belum dijawab!");
    return;
  }

  // hitung nilai
  jawabanBenar = 0;
  soalTerpilih.forEach((s,i)=>{
    if(jawabanUser[i] === s.jawaban) jawabanBenar++;
  });

  // tandai sudah kuis (anti ulang)
  let key = kelasSaatIni+"_"+namaSaatIni;
  localStorage.setItem("kuis_"+key, "done");

  // simpan nilai
  simpanNilai(namaSaatIni, kelasSaatIni, jawabanBenar);

  // absensi otomatis hadir
  simpanHadir(namaSaatIni, kelasSaatIni);

  // tampil nilai
  document.getElementById("nilaiAkhir").innerText =
    "Benar: "+jawabanBenar+" dari "+soalTerpilih.length;

  tampilScreen("screenHasil");
};

// ================================
// REKAP NILAI (TAMPILAN GURU)
// ================================
function bukaRekapNilai(){
  let box = document.getElementById("rekapNilaiList");
  box.innerHTML="";

  Object.keys(dataNilai).forEach(k=>{
    box.innerHTML+=`<h4>${k}</h4>`;
    box.innerHTML+=`
    <table border="1" cellpadding="3">
      <tr>
        <th>Nama</th>
        <th>Nilai</th>
        <th>Waktu</th>
      </tr>`;
    dataNilai[k].forEach(d=>{
      box.innerHTML+=`
      <tr>
        <td>${d.nama}</td>
        <td>${d.skor}</td>
        <td>${d.waktu}</td>
      </tr>`;
    });
    box.innerHTML+="</table><br>";
  });

  tampilScreen("screenRekapNilai");
}

// ================================
// STATUS KUIS REALTIME DI LOGIN
// ================================
function updateStatusKuis(){
  let nama = document.getElementById("namaSiswa").value.trim();
  let kelas = document.getElementById("kelasSiswa").value;
  let out = document.getElementById("statusKuis");

  if(!nama || !kelas){
    out.innerHTML = "";
    return;
  }

  let key = kelas+"_"+nama;
  if(localStorage.getItem("kuis_"+key)){
    out.innerHTML = "<span style='color:red'>Kamu sudah mengerjakan kuis!</span>";
  } else {
    out.innerHTML = "<span style='color:green'>Belum mengerjakan</span>";
  }
}

document.getElementById("namaSiswa").addEventListener("input", updateStatusKuis);
document.getElementById("kelasSiswa").addEventListener("change", updateStatusKuis);
</script>
soalData["3A"] = [
{soal:"Puasa Ramadhan hukumnya bagi umat Islam adalah?", pilihan:["Wajib","Sunnah","Makruh","Haram"], jawaban:"Wajib"},
{soal:"Orang yang tidak berpuasa tanpa alasan disebut?", pilihan:["Dosa","Pahala","Sunnah","Biasa"], jawaban:"Dosa"},
{soal:"Puasa dimulai dari terbit fajar sampai?", pilihan:["Terbenam matahari","Dzuhur","Ashar","Isya"], jawaban:"Terbenam matahari"},
{soal:"Berbuka puasa dilakukan saat adzan?", pilihan:["Maghrib","Subuh","Isya","Dzuhur"], jawaban:"Maghrib"},
{soal:"Sahur dilakukan pada waktu?", pilihan:["Sebelum Subuh","Sesudah Maghrib","Siang hari","Sore hari"], jawaban:"Sebelum Subuh"},
{soal:"Sholat sunnah pada malam Ramadhan adalah sholat?", pilihan:["Tarawih","Dhuha","Tahajud","Rawatib"], jawaban:"Tarawih"},
{soal:"Zakat fitrah dibayarkan sebelum?", pilihan:["Sholat Idul Fitri","Sholat Jumat","Sholat Ashar","Sholat Dhuhur"], jawaban:"Sholat Idul Fitri"},
{soal:"Berbuka puasa disunnahkan dengan makanan?", pilihan:["Kurma","Kue","Singkong","Mangga"], jawaban:"Kurma"},
{soal:"Puasa mengajarkan kita untuk menjadi?", pilihan:["Sabar","Pemarah","Pendendam","Sombong"], jawaban:"Sabar"},
{soal:"Doa buka puasa diawali dengan kata?", pilihan:["Allahumma","Subhanallah","Astaghfirullah","Alhamdulillah"], jawaban:"Allahumma"},
{soal:"Zakat fitrah biasanya berupa?", pilihan:["Beras","Minyak","Air","Sayur"], jawaban:"Beras"},
{soal:"Puasa Ramadhan termasuk rukun?", pilihan:["Islam","Iman","Haji","Nikah"], jawaban:"Islam"},
{soal:"Orang yang sakit boleh tidak puasa dengan cara?", pilihan:["Qadha di hari lain","Tidak diganti","Sholat saja","Zakat saja"], jawaban:"Qadha di hari lain"},
{soal:"Orang yang tidak mampu puasa wajib membayar?", pilihan:["Fidyah","Hutang","Infaq","Sedekah"], jawaban:"Fidyah"},
{soal:"Fidyah diberikan kepada?", pilihan:["Fakir miskin","Orang kaya","Guru","Orang tua"], jawaban:"Fakir miskin"},
{soal:"Lailatul Qadar terjadi pada malam?", pilihan:["10 terakhir","10 pertama","Awal Syawal","Awal Ramadhan"], jawaban:"10 terakhir"},
{soal:"Malam Nuzulul Quran diperingati pada tanggal?", pilihan:["17 Ramadhan","1 Syawal","10 Dzulhijjah","12 Rabiul Awal"], jawaban:"17 Ramadhan"},
{soal:"Sholat Idul Fitri dilaksanakan pada tanggal?", pilihan:["1 Syawal","1 Ramadhan","10 Dzulhijjah","12 Rabiul Awal"], jawaban:"1 Syawal"},
{soal:"Niat puasa Ramadhan dilakukan pada waktu?", pilihan:["Malam hari","Siang hari","Maghrib","Ashar"], jawaban:"Malam hari"},
{soal:"Berbuka puasa disebut juga dengan?", pilihan:["Ifthar","Suhoor","Fidyah","Aqiqah"], jawaban:"Ifthar"},
{soal:"Orang yang berpuasa menahan diri dari?", pilihan:["Makan dan minum","Tidur","Belajar","Olahraga"], jawaban:"Makan dan minum"},
{soal:"Puasa Ramadhan dilakukan selama?", pilihan:["1 bulan","1 minggu","10 hari","1 tahun"], jawaban:"1 bulan"},
{soal:"Tadarus artinya?", pilihan:["Membaca Al-Qur'an","Makan Sahur","Sholat Sunnah","Membayar Zakat"], jawaban:"Membaca Al-Qur'an"},
{soal:"Zakat fitrah membersihkan harta dan?", pilihan:["JiÌ„wa","Rumah","Badan","Keluarga"], jawaban:"JiÌ„wa"},
{soal:"Malam Idul Fitri disebut malam?", pilihan:["Takbiran","Tarawih","Tahajud","Jumat"], jawaban:"Takbiran"},
{soal:"Bacaan takbir Idul Fitri adalah?", pilihan:["Allahu Akbar","Subhanallah","Bismillah","Alhamdulillah"], jawaban:"Allahu Akbar"},
{soal:"Barang siapa berpuasa Ramadhan dengan iman maka diampuni?", pilihan:["Dosanya","Hartanya","Makanannya","Ilmunya"], jawaban:"Dosanya"},
{soal:"Niat puasa harus dilakukan sebelum?", pilihan:["Masuk waktu Subuh","Masuk waktu Maghrib","Masuk waktu Isya","Masuk waktu Dzuhur"], jawaban:"Masuk waktu Subuh"},
{soal:"Puasa pertama kali diwajibkan pada bulan?", pilihan:["Sya'ban","Ramadhan","Dzulhijjah","Rabiul Awal"], jawaban:"Sya'ban"},
{soal:"Orang yang batal puasa karena hujan deras disebut?", pilihan:["Tidak ada","Makruh","Wajib","Sunnah"], jawaban:"Tidak ada"}
];
soalData["4A"] = [
{soal:"Baligh adalah keadaan dimana seorang anak sudah?", pilihan:["Dikenai hukum syariat","Tidak wajib sholat","Tidak wajib puasa","Boleh melakukan dosa"], jawaban:"Dikenai hukum syariat"},
{soal:"Tanda baligh pada laki-laki adalah?", pilihan:["Mimpi basah","Haidh","Sakit perut","Putih rambut"], jawaban:"Mimpi basah"},
{soal:"Tanda baligh pada perempuan adalah?", pilihan:["Haidh","Tumbuh jenggot","Mimpi basah","Suara berat"], jawaban:"Haidh"},
{soal:"Setelah mimpi basah laki-laki wajib?", pilihan:["Mandi wajib","Wudhu","Sholat","Minum"], jawaban:"Mandi wajib"},
{soal:"Setelah haidh perempuan wajib?", pilihan:["Mandi wajib","Wudhu","Cuci muka","Tidur"], jawaban:"Mandi wajib"},
{soal:"Pubertas adalah masa perubahan dari?", pilihan:["Anak menuju dewasa","Dewasa menuju tua","Balita menuju bayi","Tua menuju muda"], jawaban:"Anak menuju dewasa"},
{soal:"Mukallaf artinya orang yang sudah?", pilihan:["Terikat hukum agama","Tidak berdosa","Tidak wajib sholat","Boleh mencuri"], jawaban:"Terikat hukum agama"},
{soal:"Haidh adalah darah yang keluar dari?", pilihan:["Rahim","Jantung","Hati","Usus"], jawaban:"Rahim"},
{soal:"Junub disebabkan oleh keluarnya?", pilihan:["Mani","Keringat","Air liur","Air mata"], jawaban:"Mani"},
{soal:"Untuk menghilangkan hadats besar wajib dengan?", pilihan:["Mandi wajib","Wudhu","Tayamum","Cuci muka"], jawaban:"Mandi wajib"},
{soal:"Hadats besar adalah keadaan yang mewajibkan?", pilihan:["Mandi wajib","Wudhu","Tidur","Sholat"], jawaban:"Mandi wajib"},
{soal:"Hadats besar disebabkan oleh haidh dan?", pilihan:["Mimpi basah","Tidur","Makan","Minum"], jawaban:"Mimpi basah"},
{soal:"Bagian tubuh yang harus dibasuh saat mandi wajib adalah?", pilihan:["Seluruh tubuh","Tangan dan kaki","Wajah saja","Kepala saja"], jawaban:"Seluruh tubuh"},
{soal:"Tujuan mandi wajib adalah untuk menghilangkan?", pilihan:["Hadats besar","Kotoran","Noda","Keringat"], jawaban:"Hadats besar"},
{soal:"Orang yang baligh wajib melaksanakan?", pilihan:["Sholat","Bermain","Tidur","Menonton"], jawaban:"Sholat"},
{soal:"Usia baligh perempuan berkisar mulai usia?", pilihan:["9-12 tahun","3-5 tahun","15-20 tahun","1-3 tahun"], jawaban:"9-12 tahun"},
{soal:"Usia baligh laki-laki berkisar mulai usia?", pilihan:["12-15 tahun","5-6 tahun","1-3 tahun","20-25 tahun"], jawaban:"12-15 tahun"},
{soal:"Darag haidh keluar secara?", pilihan:["Berkala","Terus menerus","Tidak pernah","Selamanya"], jawaban:"Berkala"},
{soal:"Orang yang junub tidak boleh?", pilihan:["Sholat","Minum","Tidur","Belajar"], jawaban:"Sholat"},
{soal:"Baligh disebut juga masa?", pilihan:["Aqil","Bayilik","Balita","Pikun"], jawaban:"Aqil"},
{soal:"Anak yang sudah baligh memiliki kewajiban?", pilihan:["Agama","Tidur siang","Bermain","Menonton"], jawaban:"Agama"},
{soal:"Waktu haidh biasanya berlangsung selama?", pilihan:["3-15 hari","1 jam","30 menit","1 hari"], jawaban:"3-15 hari"},
{soal:"Orang yang haidh tidak boleh melakukan?", pilihan:["Sholat","Makan","Tidur","Belajar"], jawaban:"Sholat"},
{soal:"Menghilangkan hadats kecil dilakukan dengan?", pilihan:["Wudhu","Mandi wajib","Tayamum","Cuci muka"], jawaban:"Wudhu"},
{soal:"Menghilangkan hadats besar dilakukan dengan?", pilihan:["Mandi wajib","Wudhu","Tayamum","Basuh kaki"], jawaban:"Mandi wajib"},
{soal:"Ciri pubertas pada laki-laki adalah tumbuhnya?", pilihan:["Kumis","Bulu mata panjang","Tanduk","Sayap"], jawaban:"Kumis"},
{soal:"Ciri pubertas pada perempuan adalah tumbuhnya?", pilihan:["Payudara","Jenggot","Tanduk","Sayap"], jawaban:"Payudara"},
{soal:"Perubahan suara menjadi berat terjadi pada?", pilihan:["Laki-laki","Perempuan","Balita","Bayi"], jawaban:"Laki-laki"},
{soal:"Orang baligh wajib menjaga akhlak dan?", pilihan:["Ibadah","Tidur","Main","Makan"], jawaban:"Ibadah"},
{soal:"Orang yang sudah baligh bertanggung jawab atas?", pilihan:["Perbuatannya","Perbuatan orang lain","Cuaca","Tanaman"], jawaban:"Perbuatannya"}
];
<script>
/* ============================
   MUSIK LATAR (TOGGLE 1x KLIK)
============================ */
let audioMusik = new Audio("./ala.mp3"); // nanti kamu upload ala.mp3
audioMusik.loop = true;
let musikOn = false;

/* Unlock audio untuk HP */
document.addEventListener("click", function unlockAudio(){
  audioMusik.play().then(()=>audioMusik.pause());
  document.removeEventListener("click", unlockAudio);
}, {once:true});

/* Fungsi toggle musik */
function toggleMusic(){
  if(musikOn){
    audioMusik.pause();
    musikOn = false;
    document.getElementById("musikStatus").innerText = "Klik untuk Putar";
  } else {
    audioMusik.currentTime = 0;
    audioMusik.play().catch(()=>{});
    musikOn = true;
    document.getElementById("musikStatus").innerText = "Sedang Memutar...";
  }
}
</script>
<!-- ===== SCREEN CEK KHODAM ===== -->
<div id="screenKhodam" class="screen">
  <h3 style="text-align:center;">Cek Khodam (Hiburan)</h3>

  <input type="text" id="namaKhodam" placeholder="Masukkan nama..." autocomplete="off">

  <button class="yellow" onclick="hasilKhodam()">Cek Khodam</button>
  
  <div id="hasilKhodam" style="margin-top:10px;font-size:1.1rem;text-align:center;"></div>

  <button class="blue" onclick="tampilScreen('screenLogin')">Kembali</button>
</div>

<script>
/* ============================
   FITUR CEK KHODAM (HIBURAN)
============================ */
const daftarKhodam = [
  "Maung Hitam","Maung Putih","Maung Emas","Harimau Kumbang",
  "Singa Padang","Singa Hitam","Ular Putih","Naga Hitam",
  "Macan Tua","Kuda Sembrani","Aura Putih","Aura Hitam",
  "Oncom Sakti","Tempe Legendaris","Rajin Ibadah","Jomblo Hebat"
];

function cekKhodam(){
  tampilScreen("screenKhodam");
}

function hasilKhodam(){
  let n = document.getElementById("namaKhodam").value.trim();
  if(!n){ alert("Masukkan nama dulu!"); return; }

  let acak = daftarKhodam[Math.floor(Math.random()*daftarKhodam.length)];

  document.getElementById("hasilKhodam").innerHTML = `
    <b>${n}</b><br>
    Khodam: <span style="color:#2E8B57">${acak}</span><br>
    <i>(Hanya hiburan)</i>
  `;

  // Suara otomatis TTS
  let u = new SpeechSynthesisUtterance(`${n} memiliki khodam ${acak}`);
  u.lang = "id-ID";
  speechSynthesis.speak(u);
}

/* ============================
   RESET SEMUA DATA
============================ */
function resetSemua(){
  if(confirm("Reset semua data?")){
    localStorage.clear();
    location.reload();
  }
}
</script>

</div> <!-- END CONTAINER -->
</body>
</html>
